# 🤖 Salona Instagram Bot (RAG + LLM)

یک ربات پاسخگو فارسی برای شبیه‌سازی دایرکت اینستاگرام با استفاده از **RAG (Retrieval-Augmented Generation)** و مدل‌های بزرگ زبان (LLM).  
این پروژه با **FastAPI** و **SQLite** نوشته شده است و پاسخ‌ها را بر اساس دیتابیس محصولات ارائه می‌دهد.

----------------------------------------------------------

## 🔹 ویژگی‌ها
- دریافت پیام کاربر و پردازش آن به صورت API
- بازیابی اطلاعات مرتبط از دیتابیس (RAG)
- تولید پاسخ فارسی مختصر با مدل HuggingFace (OpenRouter)
- بدون نیاز به پنل اینستاگرام واقعی (شبیه‌سازی)

---------------------------------------------------------

## ⚙️ نحوه نصب و اجرای پروژه

1. کلون کردن مخزن:
```bash
git clone <https://github.com/DaVinciMilanj/instagram_bot_task>
```
2. نصب پیش‌نیازها:
```bash  
pip install -r requirements.txt
```
3. ساخت دیتابیس (اگر هنوز ندارید):
```bash  
python db_init.py
```
4. ایجاد فایل .env و افزودن کلیدهای مورد نیاز:
```  
HF_TOKEN=<Your HuggingFace API Key>
HF_MODEL=meta-llama/Llama-3.1-8B-Instruct:novita
```
6.     اجرای سرور:
```bash
uvicorn main:app --reload

```
 سرور روی آدرسhttp://127.0.0.1:8000/ در دسترس خواهد بود.

--------------------------------------------------------------------------

📝 مثال درخواست و پاسخ

### درخواست:
```http
    POST /simulate_dm
    Content-Type: application/json
   {
      "sender_id": "user123",
     "message_id": "msg456",
     "text": "قیمت گوشی آیفون چنده؟"
    }
```
``` 
{                                                               
  "reply": "قیمت آیفون مدل X حدود ۳۰ میلیون تومان است."   
}                                                          
``` 



**پاسخ‌ها بر اساس اطلاعات محصولات موجود در دیتابیس تولید می‌شوند و کاملاً به فارسی و مختصر هستند.**